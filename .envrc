if command -v pyenv >/dev/null 2>&1; then
    # setting this ensures we use pyenv in case you have a poor PATH setup
    PYENV_PYTHON=$(pyenv which python)
    if [ ! -d ".venv" ]; then
        echo "Creating virtualenv for $($PYENV_PYTHON -V)"
        $PYENV_PYTHON -m venv .venv --prompt "$(basename "$(pwd)")"
    fi
fi
if [ -d ".venv" ]; then
    echo "Activating $(./.venv/bin/python -V) virtualenv"
    source .venv/bin/activate
fi
